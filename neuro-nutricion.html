<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¿Qué es la Neuro nutrición?</title>
    <link rel="stylesheet" href="css/neuro-nutricion.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap"
        rel="stylesheet">
    <style>
        /* Icono de sonido */
        .sound-toggle {
            position: absolute;
            top: 100px;
            right: 100px;
            width: 5%;
            cursor: pointer;
            z-index: 1001;
            transition: transform 0.2s;
        }

        /* Mobile sound toggle */
        @media (max-width: 480px) {
            .sound-toggle {
                top: 15px;
                right: 15px;
                width: 12%;
                min-width: 40px;
                max-width: 60px;
            }
        }

        @media (min-width: 481px) and (max-width: 768px) {
            .sound-toggle {
                top: 25px;
                right: 25px;
                width: 8%;
                min-width: 50px;
                max-width: 70px;
            }
        }

        .sound-toggle:hover {
            transform: scale(1.2);
        }

        .sound-toggle img {
            width: 100%;
            height: 100%;
            display: block;
        }

        .sound-toggle .icon-off {
            display: none;
        }

        .sound-toggle.muted .icon-on {
            display: none;
        }

        .sound-toggle.muted .icon-off {
            display: block;
        }
    </style>
</head>

<body>
    <!-- Agregar el audio de fondo -->
    <audio id="pageAudio" src="audio/principal.mp3" autoplay></audio>

    <!-- Icono de sonido -->
    <div class="sound-toggle" id="soundToggle" title="Silenciar/Activar sonido">
        <!-- Icono ON (invertido) -->
        <span class="icon-on">
            <img src="iconos/sonido_index_off.png" alt="Sonido activado">
        </span>
        <!-- Icono OFF (invertido) -->
        <span class="icon-off">
            <img src="iconos/sonido_index_on.png" alt="Sonido desactivado">
        </span>
    </div>

    <main class="neuro-nutricion-container">
        <div class="header-section">
            <h1 class="titulo-principal">¿Qué es la Neuro nutrición?</h1>
            <p class="description">Alimenta tu mente desde el plato. La Neuronutrición estudia cómo lo que comes impacta
                tu salud mental y emocional.</p>
        </div>
        <div class="cards-container">
            <div class="card intestino-card">
                <img src="imagenes/imagen_1.png" alt="Microbiota intestinal">
                <div class="card-info">
                    <h3>El secreto del intestino</h3>
                    <p>Un viaje al centro de tu microbiota.</p>
                    <p>Este documental explora cómo los billones de microbios en tu intestino afectan tu salud mental,
                        inmunidad y emociones.</p>
                    <p>Documental recomendado</p>
                    <div class="button-container">
                        <a href="https://www.netflix.com/co/Title/81436688" target="_blank" rel="noopener noreferrer">
                            <button class="leer-mas-btn">VER</button>
                        </a>
                    </div>
                </div>
            </div>
            <div class="card doctor-card">
                <img src="imagenes/imagen_2.png" alt="Doctor especialista">
                <div class="card-info">
                    <h3>Conexión intestino y cerebro</h3>
                    <p>Claves ocultas detrás de la ansiedad y la depresión.</p>
                    <p>Un experto revela cómo tu salud digestiva influye directamente en tu estado emocional. Entiende
                        el rol del intestino en la producción de neurotransmisores clave.</p>
                    <p>Video con experto</p>
                    <div class="button-container">
                        <a href="https://www.youtube.com/live/eYa66UwdsHM?themeRefresh=1" target="_blank"
                            rel="noopener noreferrer">
                            <button class="leer-mas-btn">VER VIDEO</button>
                        </a>
                    </div>
                </div>
            </div>
            <div class="card main-card active">
                <img src="imagenes/imagen_3.png" alt="Cerebro como planta y alimentos saludables">
                <div class="card-info">
                    <h3>Nutrición y salud mental</h3>
                    <p>Estrategias basadas en evidencia.</p>
                    <p>Conoce cómo la alimentación puede influir en la ansiedad, depresión y otros trastornos mentales.
                        Un enfoque desde la nutrición clínica.</p>
                    <p>Artículos recomendados</p>
                    <div class="button-container">
                        <a href="https://cmnutriologos.com/2025/02/06/nutricion-y-salud-mental-intervenciones-basadas-en-evidencia/"
                            target="_blank" rel="noopener noreferrer">
                            <button class="leer-mas-btn">LEER MÁS</button>
                        </a>
                    </div>
                </div>
            </div>
            <div class="card cerebro-libro-card">
                <img src="imagenes/imagen_4.png" alt="Cerebro y libro">
                <div class="card-info">
                    <h3>Alimenta tu cerebro</h3>
                    <p>Infografía animada sobre alimentos y salud mental.</p>
                    <p>Un recorrido visual y educativo que explica cómo ciertos alimentos mejoran la memoria, reducen el
                        estrés y fortalecen la mente. Ideal para aprender de forma rápida y atractiva.</p>
                    <p>Infografía en video</p>
                    <div class="button-container">
                        <a href="https://www.youtube.com/watch?v=uuUkYXMKABQ" target="_blank" rel="noopener noreferrer">
                            <button class="leer-mas-btn">VER VIDEO</button>
                        </a>
                    </div>
                </div>
            </div>
            <div class="card comida-mala-card">
                <img src="imagenes/imagen_5.png" alt="Comida no saludable">
                <div class="card-info">
                    <h3>El Cerebro y la alimentación</h3>
                    <p>¿Cómo influye tu dieta en tus emociones, decisiones y conducta?</p>
                    <p>Aquí podrás ver cómo la dieta afecta la memoria, las emociones, la conducta y hasta la toma de
                        decisiones.</p>
                    <p>Documental recomendado</p>
                    <div class="button-container">
                        <a href="https://www.youtube.com/watch?v=4B8Q-v6L0hk" target="_blank" rel="noopener noreferrer">
                            <button class="leer-mas-btn">VER VIDEO</button>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="icons-grid">
            <div class="icon-box inicio" onclick="window.location.href='index.html'">
                <img src="iconos/icono_1.png" alt="Ícono de cerebro" class="icon">
            </div>
            <div class="icon-box index" onclick="window.location.href='inicio.html'">
                <img src="iconos/icono_2.png" alt="Ícono de alimentación" class="icon">
            </div>
            <div class="icon-box neuro-nutricion" onclick="window.location.href='neuro-nutricion.html'">
                <img src="iconos/icono_3.png" alt="Ícono de intestino" class="icon">
            </div>
            <div class="icon-box test-emocional" onclick="window.location.href='test-emocional.html'">
                <img src="iconos/icono_6.png" alt="Ícono de mano" class="icon">
            </div>
            <div class="icon-box psicobioticos" onclick="window.location.href='psicobioticos.html'">
                <img src="iconos/icono_4.png" alt="Ícono de agua" class="icon">
            </div>
            <div class="icon-box contactanos" onclick="window.location.href='contactanos.html'">
                <img src="iconos/icono_5.png" alt="Ícono de información" class="icon">
            </div>
        </div>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const cards = document.querySelectorAll('.card');
            const pageAudio = document.getElementById('pageAudio');
            const soundToggle = document.getElementById('soundToggle');

            // Estado inicial del mute
            let isMuted = localStorage.getItem('audioMuted') === 'true';
            pageAudio.muted = isMuted;
            if (isMuted) {
                soundToggle.classList.add('muted');
            }

            // Controlar el sonido al hacer clic en el icono
            soundToggle.addEventListener('click', function () {
                isMuted = !isMuted;
                pageAudio.muted = isMuted;
                localStorage.setItem('audioMuted', isMuted);
                soundToggle.classList.toggle('muted', isMuted);
            });            // Función para actualizar las clases de las tarjetas
            function updateCards() {
                // Encontrar el índice de la tarjeta activa
                let activeIndex = -1;
                cards.forEach((card, index) => {
                    if (card.classList.contains('active')) {
                        activeIndex = index;
                    }
                    // Limpiar cualquier clase 'adjacent' existente
                    card.classList.remove('adjacent');
                });

                // Si encontramos una tarjeta activa, marcar las adyacentes (solo en desktop)
                if (activeIndex !== -1 && window.innerWidth > 768) {
                    // Marcar la tarjeta a la izquierda como adyacente (si existe)
                    if (activeIndex > 0) {
                        cards[activeIndex - 1].classList.add('adjacent');
                    }

                    // Marcar la tarjeta a la derecha como adyacente (si existe)
                    if (activeIndex < cards.length - 1) {
                        cards[activeIndex + 1].classList.add('adjacent');
                    }
                }
            }

            // Variable para controlar el timeout del hover
            let hoverTimeout;// Establecer la tarjeta #3 como activa al inicio (índice 2, ya que comenzamos desde 0)
            const mainCardIndex = 2;
            if (cards.length > mainCardIndex) {
                cards[mainCardIndex].classList.add('active');
                updateCards(); // Actualizar las clases de las tarjetas adyacentes
            }            // Para dispositivos de escritorio, volver a la card principal cuando el mouse sale del contenedor
            const cardsContainer = document.querySelector('.cards-container');
            if (!('ontouchstart' in window) && cardsContainer) {
                cardsContainer.addEventListener('mouseleave', function () {
                    // Limpiar cualquier timeout pendiente
                    clearTimeout(hoverTimeout);

                    // Añadir un pequeño delay antes de volver a la card principal
                    hoverTimeout = setTimeout(() => {
                        // Quitar active de todas las cards
                        cards.forEach(c => c.classList.remove('active'));

                        // Volver a activar la card principal
                        if (cards.length > mainCardIndex) {
                            cards[mainCardIndex].classList.add('active');
                            updateCards();
                        }
                    }, 100);
                });
            }            // Añadir manejadores de eventos para hover en las tarjetas (solo en desktop)
            cards.forEach(card => {
                // Para dispositivos de escritorio (hover)
                if (!('ontouchstart' in window)) {
                    card.addEventListener('mouseenter', function () {
                        // Limpiar cualquier timeout pendiente
                        clearTimeout(hoverTimeout);

                        // Quitar la clase active de todas las tarjetas
                        cards.forEach(c => c.classList.remove('active'));

                        // Añadir la clase active a la tarjeta en hover
                        this.classList.add('active');

                        // Actualizar las clases de las tarjetas adyacentes
                        updateCards();
                    });
                } else {
                    // Para dispositivos móviles, mantener el comportamiento de click
                    card.addEventListener('click', function () {
                        // Quitar la clase active de todas las tarjetas
                        cards.forEach(c => c.classList.remove('active'));

                        // Añadir la clase active a la tarjeta clickeada
                        this.classList.add('active');

                        // Actualizar las clases de las tarjetas adyacentes
                        updateCards();
                    });

                    // Mejorar la experiencia táctil en móviles
                    card.addEventListener('touchstart', function () {
                        this.style.transform = 'scale(0.98)';
                    });

                    card.addEventListener('touchend', function () {
                        setTimeout(() => {
                            this.style.transform = '';
                        }, 100);
                    });
                }
            });

            // Actualizar las tarjetas al inicio
            updateCards();

            // Actualizar layout en cambio de orientación
            window.addEventListener('orientationchange', function () {
                setTimeout(updateCards, 100);
            });

            // Actualizar layout en resize
            window.addEventListener('resize', updateCards);

            // Audio de fondo
            let savedAudioTime = parseFloat(localStorage.getItem('audioTime')) || 0;

            pageAudio.addEventListener('loadedmetadata', function () {
                // Solo asignar si el tiempo es válido y menor que la duración
                if (savedAudioTime > 0 && savedAudioTime < pageAudio.duration) {
                    pageAudio.currentTime = savedAudioTime;
                    console.log('Restaurando audioTime:', savedAudioTime);
                } else {
                    console.log('audioTime no válido o es 0:', savedAudioTime);
                }
            });

            pageAudio.addEventListener('timeupdate', function () {
                // Guardar solo si el audio está reproduciéndose
                if (!pageAudio.paused && !pageAudio.ended) {
                    localStorage.setItem('audioTime', pageAudio.currentTime);
                }
            });

            pageAudio.addEventListener('ended', function () {
                pageAudio.currentTime = 0;
                pageAudio.play();
            });
        });
    </script>
</body>

</html>